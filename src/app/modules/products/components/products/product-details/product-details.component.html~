<ng-container *ngIf="product">
  <div class="product-details-wrapper row">
    <div class="product-heading-mobile product-content">
      <h2 class="category">{{ categoryName }}</h2>
      <h1 class="product-name">{{ product.name }}</h1>
      <div class="shipping-info">
        <svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none"
             stroke="#9a9a9a" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"
             class="icon icon-tabler icons-tabler-outline icon-tabler-truck">
          <path stroke="none" d="M0 0h24v24H0z" fill="none"/>
          <path d="M7 17m-2 0a2 2 0 1 0 4 0a2 2 0 1 0 -4 0"/>
          <path d="M17 17m-2 0a2 2 0 1 0 4 0a2 2 0 1 0 -4 0"/>
          <path d="M5 17h-2v-11a1 1 0 0 1 1 -1h9v12m-4 0h6m4 0h2v-6h-8m0 -5h5l3 5"/>
        </svg>
        <h3 class="pt-1">
          Wysyłka w 24 godziny!
        </h3>
      </div>
    </div>
    <div class="product-slider col-xl-6 col-12">
      <app-images-carousel
        [productName]="product.name"
        [imageUrls]="product.imageUrls">
      </app-images-carousel>
    </div>

    <div class="product-content col-xl-6 col-12">
      <div class="product-heading-desktop">
        <h2 class="category">{{ categoryName }}</h2>
        <h1 class="product-name">{{ product.name }}</h1>
        <div class="shipping-info">
          <svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none"
               stroke="#9a9a9a" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"
               class="icon icon-tabler icons-tabler-outline icon-tabler-truck">
            <path stroke="none" d="M0 0h24v24H0z" fill="none"/>
            <path d="M7 17m-2 0a2 2 0 1 0 4 0a2 2 0 1 0 -4 0"/>
            <path d="M17 17m-2 0a2 2 0 1 0 4 0a2 2 0 1 0 -4 0"/>
            <path d="M5 17h-2v-11a1 1 0 0 1 1 -1h9v12m-4 0h6m4 0h2v-6h-8m0 -5h5l3 5"/>
          </svg>
          <h3 class="pt-1">
            Wysyłka w 24 godziny!
          </h3>
        </div>
      </div>
      <hr>
      <div class="description">
        <p class="product-desc"><b>Opis produktu</b></p>
        <div *ngIf="htmlContent" [innerHtml]="htmlContent" class="html-text"></div>
      </div>
      <div class="row">
        <div class="price col-lg-4"><p><b>Cena</b></p>
          <hr>
          <p>
            <ng-container *ngIf="product.discount; else normalPrice">
              <span class="old-price">{{ product.price | currency: 'zł' }}</span>
              <span class="discounted-price">{{ product.discountedPrice | currency: 'zł' }}</span>
            </ng-container>
            <ng-template #normalPrice>
              {{ product.price | currency: 'zł' }}
            </ng-template>
          </p>
        </div>
        <div class="add-to-cart col-lg-8">
          <div class="d-flex justify-content-center mt-xxl-4 q-control">
            <app-quantity-control [formControl]="quantityControl"></app-quantity-control>
          </div>
          <div class="d-flex justify-content-center my-3">
            <button mat-raised-button class="custom-cart-btn" (click)="addToCart()">Dodaj do koszyka</button>
          </div>
        </div>
      </div>
    </div>
  </div>

  <div class="parameters">
    <div class="row" *ngIf="parameters">
      <div class="col-md-12 mt-3 parameter-box">
        <div class="parameters-title"><h1 class="product-desc">Specyfikacja</h1></div>
        <p class="text-center">Parametry</p>
        <table class="table table-bordered">
          <tbody>
          <tr *ngFor="let parameter of parameters | keyvalue; let i = index">
            <td class="text-end table-cell">
              <span class="product-parameter-key">{{ parameter.key }}</span>
            </td>
            <td class="text-start table-cell">
              {{ parameter.value }}
            </td>
          </tr>
          </tbody>
        </table>
      </div>
    </div>
  </div>
</ng-container>
